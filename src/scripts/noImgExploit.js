import { declarativeNetRequest } from './utils/dnr.js';

export const main = async () => {
  const newRule = declarativeNetRequest.newRule('noPhp', {
    excludedRequestDomains: ['cohost.org', 'staging.cohostcdn.org'],
    urlFilter: '*.php|',
    resourceTypes: ['image']
  },
  { type : 'block' });
  declarativeNetRequest.updateDynamicRules([newRule]);
};

export const clean = async () => {
  declarativeNetRequest.clearDynamicRules(['noPhp']);
};