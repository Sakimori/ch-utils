import { declarativeNetRequest } from './utils/dnr.js';

export const main = async () => {
  const newRule = declarativeNetRequest.newRule('noPhp', {
    initiatorDomains: ['cohost.org'],
    excludedRequestDomains: ['cohost.org', 'staging.cohostcdn.org', 'proxy-staging.cohostcdn.org'],
    resourceTypes: ['image']
  },
  { type : 'block' });
  declarativeNetRequest.updateDynamicRules([newRule]);
};

export const clean = async () => {
  declarativeNetRequest.clearDynamicRules(['noPhp']);
};